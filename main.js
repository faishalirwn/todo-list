(()=>{const t=(()=>{let t=[];return{addProject:e=>{t.push(e)},removeProject:e=>{t.splice(e,1)},updateProject:(e,n)=>{t[e].changeTitle(n)},getProjects:()=>t}})();class e{constructor(t){this.title=t,this.todos=[]}addTodo(t){this.todos.push(t)}removeTodo(t){this.todos.splice(t,1)}changeTitle(t){this.title=t}}const n=()=>{const e=document.querySelector("#project-list");for(;e.firstChild;)e.removeChild(e.lastChild);t.getProjects().forEach(((t,n)=>{const d=document.createElement("li");d.setAttribute("data-index",n);const s=document.createElement("button");s.textContent=t.title,s.classList.add("project-title");const c=document.createElement("button");c.textContent="✖",c.classList.add("project-remove-btn"),c.addEventListener("click",(t=>{const e=Number(t.target.parentNode.dataset.index);o.removeProject(e)}));const r=document.createElement("input");r.setAttribute("type","text"),r.classList.add("project-edit-input","display-none"),r.addEventListener("keypress",(t=>{const e=Number(t.target.parentNode.dataset.index);if("Enter"===t.key){const n=t.target.value;o.updateProject(e,n)}})),r.addEventListener("blur",(t=>{s.classList.toggle("display-none"),r.classList.toggle("display-none");const e=Number(t.target.parentNode.dataset.index),n=t.target.value;o.updateProject(e,n)}));const a=document.createElement("button");a.textContent="✏️",a.classList.add("project-edit-btn"),a.addEventListener("click",(()=>{s.classList.toggle("display-none"),r.classList.toggle("display-none"),r.value=t.title,r.focus()})),d.appendChild(s),d.appendChild(r),d.appendChild(a),d.appendChild(c),e.appendChild(d)}))},o=(()=>{const o=()=>{const o=document.querySelector("#project-name-input"),d=new e(o.value);t.addProject(d),n()};return{addProject:o,removeProject:e=>{t.removeProject(e),n()},updateProject:(e,o)=>{t.updateProject(e,o),n()},initializeProjects:()=>{const o=new e("Default"),d=new e("Errands");t.addProject(o),t.addProject(d),n()},initializeEventListener:()=>{document.querySelector("#add-project-btn").addEventListener("click",o)}}})();o.initializeProjects(),o.initializeEventListener()})();