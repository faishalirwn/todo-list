(()=>{const e=(()=>{let e=[];return{addProject:t=>{e.push(t)},removeProject:t=>{e.splice(t,1)},updateProject:(t,n)=>{e[t].changeTitle(n)},getProjects:()=>e}})();class t{constructor(e){this.title=e,this.todos=[]}addTodo(e){this.todos.push(e)}removeTodo(e){this.todos.splice(e,1)}changeTitle(e){this.title=e}}const n=()=>{(()=>{const t=document.querySelector("#project-list");for(;t.firstChild;)t.removeChild(t.lastChild);e.getProjects().forEach(((e,n)=>{const d=document.createElement("li");d.setAttribute("data-index",n);const s=document.createElement("button");s.textContent=e.title,s.classList.add("project-title");const c=document.createElement("button");c.textContent="✖",c.classList.add("project-remove-btn"),c.addEventListener("click",(e=>{const t=Number(e.target.parentNode.dataset.index);o.removeProject(t)}));const r=document.createElement("input");r.setAttribute("type","text"),r.classList.add("project-edit-input","display-none"),r.addEventListener("keydown",(e=>{const t=Number(e.target.parentNode.dataset.index);if("Enter"===e.key||"Escape"===e.key){const n=e.target.value;o.updateProject(t,n)}})),r.addEventListener("blur",(e=>{const t=Number(e.target.parentNode.dataset.index),n=e.target.value;o.updateProject(t,n)}));const a=document.createElement("button");a.textContent="✏️",a.classList.add("project-edit-btn"),a.addEventListener("click",(()=>{s.classList.toggle("display-none"),r.classList.toggle("display-none"),r.value=e.title,r.focus(),r.select()})),d.appendChild(s),d.appendChild(r),d.appendChild(a),d.appendChild(c),t.appendChild(d)}))})()},o=(()=>{const o=()=>{const o=document.querySelector("#project-name-input"),d=new t(o.value);e.addProject(d),n()};return{addProject:o,removeProject:t=>{e.removeProject(t),n()},updateProject:(t,o)=>{e.updateProject(t,o),n()},initializeProjects:()=>{const o=new t("Default"),d=new t("Errands");e.addProject(o),e.addProject(d),n()},initializeEventListener:()=>{const e=document.querySelector("#modal-bg");e.addEventListener("click",(t=>{"modal-bg"===t.target.id&&(e.removeAttribute("style"),e.classList.toggle("display-none"))})),document.querySelector("#add-project-modal-btn").addEventListener("click",(()=>{e.classList.toggle("display-none"),e.style.display="flex"})),document.querySelector("#add-project-btn").addEventListener("click",(()=>{o(),e.removeAttribute("style"),e.classList.toggle("display-none")}))}}})();o.initializeProjects(),o.initializeEventListener()})();