(()=>{const e=(()=>{let e=[];return{addProject:t=>{e.push(t)},removeProject:t=>{e.splice(t,1)},updateProject:(t,o)=>{e[t].changeTitle(o)},getProjects:()=>e}})();class t{constructor(e){this.title=e,this.todos=[]}addTodo(e){this.todos.push(e)}removeTodo(e){this.todos.splice(e,1)}changeTitle(e){this.title=e}}const o=()=>{(()=>{const t=document.querySelector("#project-list");for(;t.firstChild;)t.removeChild(t.lastChild);e.getProjects().forEach(((e,o)=>{const d=document.createElement("li");d.setAttribute("data-index",o);const s=document.createElement("button");s.textContent=e.title,s.classList.add("project-title");const c=document.createElement("button");c.textContent="✖",c.classList.add("project-remove-btn"),c.addEventListener("click",(e=>{const t=Number(e.target.parentNode.dataset.index);n.removeProject(t)}));const r=document.createElement("input");r.setAttribute("type","text"),r.classList.add("project-edit-input","display-none"),r.addEventListener("keydown",(e=>{const t=Number(e.target.parentNode.dataset.index);if("Enter"===e.key||"Escape"===e.key){const o=e.target.value;n.updateProject(t,o)}})),r.addEventListener("blur",(e=>{const t=Number(e.target.parentNode.dataset.index),o=e.target.value;n.updateProject(t,o)}));const a=document.createElement("button");a.textContent="✏️",a.classList.add("project-edit-btn"),a.addEventListener("click",(()=>{s.classList.toggle("display-none"),r.classList.toggle("display-none"),r.value=e.title,r.focus(),r.select()})),d.appendChild(s),d.appendChild(r),d.appendChild(a),d.appendChild(c),t.appendChild(d)}))})()},n=(()=>{const n=t=>{e.addProject(t),o()};return{addProject:n,removeProject:t=>{e.removeProject(t),o()},updateProject:(t,n)=>{e.updateProject(t,n),o()},initializeProjects:()=>{const n=new t("Default"),d=new t("Errands");e.addProject(n),e.addProject(d),o()},initializeEventListener:()=>{const e=document.querySelector("#project-name-input"),o=document.querySelector("#modal-bg");o.addEventListener("click",(e=>{"modal-bg"===e.target.id&&(o.removeAttribute("style"),o.classList.toggle("display-none"))})),document.querySelector("#add-project-modal-btn").addEventListener("click",(()=>{o.classList.toggle("display-none"),o.style.display="flex",e.focus(),e.select()})),document.querySelector("#add-project-btn").addEventListener("click",(()=>{const d=new t(e.value);n(d),o.removeAttribute("style"),o.classList.toggle("display-none")}))}}})();n.initializeProjects(),n.initializeEventListener()})();