(()=>{const e=(()=>{let e=[];return{addProject:t=>{e.push(t)},removeProject:t=>{e.splice(t,1)},updateProject:(t,n)=>{e[t].changeTitle(n)},getProjects:()=>e}})();class t{constructor(e){this.title=e,this.todos=[]}addTodo(e){this.todos.push(e)}removeTodo(e){this.todos.splice(e,1)}changeTitle(e){this.title=e}}const n=()=>{(()=>{const t=document.querySelector("#project-list");for(;t.firstChild;)t.removeChild(t.lastChild);e.getProjects().forEach(((e,n)=>{const d=document.createElement("li");d.setAttribute("data-index",n);const c=document.createElement("button");c.textContent=e.title,c.classList.add("project-title");const r=document.createElement("button");r.textContent="✖",r.classList.add("project-remove-btn"),r.addEventListener("click",(e=>{const t=Number(e.target.parentNode.dataset.index);o.removeProject(t)}));const s=document.createElement("input");s.setAttribute("type","text"),s.classList.add("project-edit-input","display-none"),s.addEventListener("keydown",(e=>{const t=Number(e.target.parentNode.dataset.index);if("Enter"===e.key||"Escape"===e.key){const n=e.target.value;o.updateProject(t,n)}})),s.addEventListener("blur",(e=>{const t=Number(e.target.parentNode.dataset.index),n=e.target.value;o.updateProject(t,n)}));const a=document.createElement("button");a.textContent="✏️",a.classList.add("project-edit-btn"),a.addEventListener("click",(()=>{c.classList.toggle("display-none"),s.classList.toggle("display-none"),s.value=e.title,s.focus(),s.select()})),d.appendChild(c),d.appendChild(s),d.appendChild(a),d.appendChild(r),t.appendChild(d)}))})()},o=(()=>{const o=()=>{const o=document.querySelector("#project-name-input"),d=new t(o.value);e.addProject(d),n()};return{addProject:o,removeProject:t=>{e.removeProject(t),n()},updateProject:(t,o)=>{e.updateProject(t,o),n()},initializeProjects:()=>{const o=new t("Default"),d=new t("Errands");e.addProject(o),e.addProject(d),n()},initializeEventListener:()=>{document.querySelector("#add-project-btn").addEventListener("click",o)}}})();o.initializeProjects(),o.initializeEventListener()})();